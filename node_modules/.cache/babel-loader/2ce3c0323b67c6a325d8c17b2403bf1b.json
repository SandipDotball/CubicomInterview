{"ast":null,"code":"var __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n\n  return t;\n};\n\nimport { propsCallback } from \"./blueprint\";\nimport pick from \"./utils/pick\";\nexport function getContext(contextTypes) {\n  return {\n    staticCallback: function (componentClass) {\n      componentClass.contextTypes = __assign({}, componentClass.contextTypes, contextTypes);\n    },\n    instanceCallbacks: [propsCallback(function (props, _, context) {\n      return __assign({}, props, pick.apply(void 0, [context].concat(Object.keys(contextTypes))));\n    })]\n  };\n}\nexport default getContext;","map":{"version":3,"sources":["getContext.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,SAAqB,aAArB,QAA0C,aAA1C;AACA,OAAO,IAAP,MAAiB,cAAjB;AAEA,OAAM,SAAA,UAAA,CACJ,YADI,EACW;AAEf,SAAO;AACL,IAAA,cAAc,EAAE,UAAC,cAAD,EAAe;AAC7B,MAAA,cAAc,CAAC,YAAf,GAA2B,QAAA,CAAA,EAAA,EACtB,cAAc,CAAC,YADO,EAErB,YAFqB,CAA3B;AAID,KANI;AAOL,IAAA,iBAAiB,EAAE,CACjB,aAAa,CAAC,UAAC,KAAD,EAAQ,CAAR,EAAW,OAAX,EAAkB;AAAK,aAAA,QAAA,CAAA,EAAA,EAChC,KADgC,EAEhC,IAAI,CAAA,KAAJ,CAAI,KAAA,CAAJ,EAAI,CAAC,OAAD,EAAQ,MAAR,CAAa,MAAM,CAAC,IAAP,CAFe,YAEf,CAAb,CAAJ,CAFgC,CAAA;AAGnC,KAHW,CADI;AAPd,GAAP;AAcD;AAED,eAAe,UAAf","sourcesContent":["import { Composable, propsCallback } from \"./blueprint\";\nimport pick from \"./utils/pick\";\n\nexport function getContext<T>(\n  contextTypes: T,\n): Composable {\n  return {\n    staticCallback: (componentClass) => {\n      componentClass.contextTypes = {\n        ...componentClass.contextTypes,\n        ...(contextTypes as any),\n      };\n    },\n    instanceCallbacks: [\n      propsCallback((props, _, context) => ({\n        ...props,\n        ...pick(context, ...Object.keys(contextTypes)),\n      })),\n    ],\n  };\n}\n\nexport default getContext;\n"]},"metadata":{},"sourceType":"module"}