{"ast":null,"code":"var __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n\n  return t;\n};\n\nimport * as React from \"react\";\nimport { Children } from \"react\";\nimport { combine, withProps, withHandlers, omitProps } from \"reassemble\";\nexport var withWorkaround = combine(withHandlers({\n  workaroundHandler: function (_a) {\n    var firstProperty = _a.transitionInfo.firstProperty,\n        onTransitionStart = _a.onTransitionStart;\n    return function () {\n      onTransitionStart({\n        propertyName: firstProperty\n      });\n    };\n  }\n}), withProps(function (_a) {\n  var firstPropertyDelay = _a.transitionInfo.firstPropertyDelay,\n      inTransition = _a.transitionState.inTransition,\n      workaroundHandler = _a.workaroundHandler,\n      children = _a.children;\n  var workaroundProps = {\n    key: \"workaround\",\n    style: {\n      opacity: 0.9\n    }\n  };\n  var transition = \"opacity 1ms linear \" + firstPropertyDelay + \"ms\";\n\n  if (inTransition) {\n    workaroundProps.onTransitionEnd = workaroundHandler;\n    workaroundProps.style = {\n      opacity: 1.0,\n      transition: transition,\n      WebkitTransition: transition\n    };\n  }\n\n  return {\n    children: [React.createElement(\"span\", __assign({}, workaroundProps))].concat(Children.toArray(children))\n  };\n}), omitProps(\"workaroundHandler\", \"onTransitionStart\"));","map":{"version":3,"sources":["composables/withWorkaround.tsx"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAmD,QAAnD,QAAmE,OAAnE;AACA,SAAS,OAAT,EAAkB,SAAlB,EAA6B,YAA7B,EAA2C,SAA3C,QAA4D,YAA5D;AAgBA,OAAO,IAAM,cAAc,GAAG,OAAO,CACnC,YAAY,CAAuB;AACjC,EAAA,iBAAiB,EAAE,UAAC,EAAD,EAGlB;QAFkB,aAAA,GAAA,EAAA,CAAA,cAAA,CAAA,a;QACjB,iBAAA,GAAA,EAAA,CAAA,iB;AACI,WAAA,YAAA;AACJ,MAAA,iBAAiB,CAAC;AAAE,QAAA,YAAY,EAAE;AAAhB,OAAD,CAAjB;AACD,KAFK;AAEL;AANgC,CAAvB,CADuB,EASnC,SAAS,CAAC,UACR,EADQ,EAMP;MAJkB,kBAAA,GAAA,EAAA,CAAA,cAAA,CAAA,kB;MACC,YAAA,GAAA,EAAA,CAAA,eAAA,CAAA,Y;MAClB,iBAAA,GAAA,EAAA,CAAA,iB;MACA,QAAA,GAAA,EAAA,CAAA,Q;AAGF,MAAM,eAAe,GAAqC;AACxD,IAAA,GAAG,EAAE,YADmD;AAExD,IAAA,KAAK,EAAE;AAAE,MAAA,OAAO,EAAE;AAAX;AAFiD,GAA1D;AAIA,MAAM,UAAU,GAAG,wBAAsB,kBAAtB,GAAwC,IAA3D;;AACA,MAAI,YAAJ,EAAkB;AAChB,IAAA,eAAe,CAAC,eAAhB,GAAkC,iBAAlC;AACA,IAAA,eAAe,CAAC,KAAhB,GAAwB;AAAE,MAAA,OAAO,EAAE,GAAX;AAAgB,MAAA,UAAU,EAAA,UAA1B;AAA4B,MAAA,gBAAgB,EAAE;AAA9C,KAAxB;AACD;;AACD,SAAO;AACL,IAAA,QAAQ,EAAA,CAAG,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,QAAA,CAAA,EAAA,EAAU,eAAV,CAAA,CAAH,EAAiC,MAAjC,CAAsC,QAAQ,CAAC,OAAT,CAAiB,QAAjB,CAAtC;AADH,GAAP;AAGD,CApBQ,CAT0B,EA8BnC,SAAS,CACP,mBADO,EAEP,mBAFO,CA9B0B,CAA9B","sourcesContent":["import * as React from \"react\";\nimport { ReactNode, EventHandler, TransitionEvent, Children } from \"react\";\nimport { combine, withProps, withHandlers, omitProps } from \"reassemble\";\n\nimport { WithTransitionStateProps } from \"./withTransitionState\";\nimport { WithTransitionInfoProps } from \"./withTransitionInfo\";\nimport { WithTransitionObserverProps } from \"./withTransitionObserver\";\n\ntype PropsOut = {\n  workaroundHandler?: EventHandler<TransitionEvent<any>>,\n  children?: ReactNode;\n};\n\ntype PropsUnion = WithTransitionObserverProps\n  & WithTransitionStateProps\n  & WithTransitionInfoProps\n  & PropsOut;\n\nexport const withWorkaround = combine(\n  withHandlers<PropsUnion, PropsOut>({\n    workaroundHandler: ({\n      transitionInfo: {firstProperty},\n      onTransitionStart,\n    }) => () => {\n      onTransitionStart({ propertyName: firstProperty } as any);\n    },\n  }),\n  withProps((\n    {\n      transitionInfo: {firstPropertyDelay},\n      transitionState: {inTransition},\n      workaroundHandler,\n      children,\n    },\n  ) => {\n    const workaroundProps: React.HTMLProps<HTMLSpanElement> = {\n      key: \"workaround\",\n      style: { opacity: 0.9 },\n    };\n    const transition = `opacity 1ms linear ${firstPropertyDelay}ms`;\n    if (inTransition) {\n      workaroundProps.onTransitionEnd = workaroundHandler;\n      workaroundProps.style = { opacity: 1.0, transition, WebkitTransition: transition };\n    }\n    return {\n      children: [<span {...workaroundProps } />, ...Children.toArray(children)],\n    };\n  }),\n  omitProps<keyof PropsUnion>(\n    \"workaroundHandler\",\n    \"onTransitionStart\",\n  ),\n);\n"]},"metadata":{},"sourceType":"module"}