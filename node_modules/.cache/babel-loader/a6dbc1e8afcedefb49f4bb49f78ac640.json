{"ast":null,"code":"import { withHandlers } from \"reassemble\";\nimport matchTransitionProperty from \"../utils/matchTransitionProperty\";\nexport var withTransitionObserver = withHandlers({\n  onTransitionStart: function (_a) {\n    var firstProperty = _a.transitionInfo.firstProperty,\n        inTransition = _a.transitionState.inTransition,\n        onTransitionStart = _a.onTransitionStart,\n        onTransitionBegin = _a.onTransitionBegin;\n    return function (e) {\n      if (onTransitionStart) {\n        onTransitionStart(e);\n      }\n\n      if (!inTransition || e.target !== e.currentTarget || !matchTransitionProperty(e.propertyName, firstProperty)) {\n        return;\n      }\n\n      onTransitionBegin();\n    };\n  },\n  onTransitionEnd: function (_a) {\n    var lastProperty = _a.transitionInfo.lastProperty,\n        inTransition = _a.transitionState.inTransition,\n        onTransitionEnd = _a.onTransitionEnd,\n        onTransitionComplete = _a.onTransitionComplete;\n    return function (e) {\n      if (onTransitionEnd) {\n        onTransitionEnd(e);\n      }\n\n      if (!inTransition || e.target !== e.currentTarget || !matchTransitionProperty(e.propertyName, lastProperty)) {\n        return;\n      }\n\n      onTransitionComplete();\n    };\n  }\n});","map":{"version":3,"sources":["composables/withTransitionObserver.tsx"],"names":[],"mappings":"AACA,SAAS,YAAT,QAA6B,YAA7B;AAKA,OAAO,uBAAP,MAAoC,kCAApC;AAeA,OAAO,IAAM,sBAAsB,GACjC,YAAY,CAAuB;AACjC,EAAA,iBAAiB,EAAE,UACjB,EADiB,EAMhB;QAJmB,aAAA,GAAA,EAAA,CAAA,cAAA,CAAA,a;QACC,YAAA,GAAA,EAAA,CAAA,eAAA,CAAA,Y;QACnB,iBAAA,GAAA,EAAA,CAAA,iB;QACA,iBAAA,GAAA,EAAA,CAAA,iB;AAEC,WAAA,UAAC,CAAD,EAAwB;AAC3B,UAAI,iBAAJ,EAAuB;AAAE,QAAA,iBAAiB,CAAC,CAAD,CAAjB;AAAuB;;AAChD,UAAI,CAAC,YAAD,IAAiB,CAAC,CAAC,MAAF,KAAa,CAAC,CAAC,aAAhC,IACF,CAAC,uBAAuB,CAAC,CAAC,CAAC,YAAH,EAAiB,aAAjB,CAD1B,EAC2D;AACzD;AACD;;AACD,MAAA,iBAAiB;AAClB,KAPI;AAOJ,GAfgC;AAgBjC,EAAA,eAAe,EAAE,UACf,EADe,EAMd;QAJmB,YAAA,GAAA,EAAA,CAAA,cAAA,CAAA,Y;QACC,YAAA,GAAA,EAAA,CAAA,eAAA,CAAA,Y;QACnB,eAAA,GAAA,EAAA,CAAA,e;QACA,oBAAA,GAAA,EAAA,CAAA,oB;AAEC,WAAA,UAAC,CAAD,EAAwB;AAC3B,UAAI,eAAJ,EAAqB;AAAE,QAAA,eAAe,CAAC,CAAD,CAAf;AAAqB;;AAC5C,UAAI,CAAC,YAAD,IAAiB,CAAC,CAAC,MAAF,KAAa,CAAC,CAAC,aAAhC,IACF,CAAC,uBAAuB,CAAC,CAAC,CAAC,YAAH,EAAiB,YAAjB,CAD1B,EAC0D;AACxD;AACD;;AACD,MAAA,oBAAoB;AACrB,KAPI;AAOJ;AA9BgC,CAAvB,CADP","sourcesContent":["import { EventHandler, TransitionEvent } from \"react\";\nimport { withHandlers } from \"reassemble\";\n\nimport { CSSTransitionInnerProps } from \"../csstransition\";\nimport { WithTransitionStateProps } from \"./withTransitionState\";\nimport { WithTransitionInfoProps } from \"./withTransitionInfo\";\nimport matchTransitionProperty from \"../utils/matchTransitionProperty\";\n\nexport type WithTransitionObserverProps = {\n  onTransitionStart: EventHandler<TransitionEvent<any>>,\n};\n\ntype PropsOut = WithTransitionObserverProps & {\n  onTransitionEnd: EventHandler<TransitionEvent<any>>,\n};\n\ntype PropsUnion = CSSTransitionInnerProps\n  & WithTransitionStateProps\n  & WithTransitionInfoProps\n  & PropsOut;\n\nexport const withTransitionObserver =\n  withHandlers<PropsUnion, PropsOut>({\n    onTransitionStart: (\n      {\n        transitionInfo: { firstProperty },\n        transitionState: { inTransition },\n        onTransitionStart,\n        onTransitionBegin,\n      },\n    ) => (e: TransitionEvent<any>) => {\n      if (onTransitionStart) { onTransitionStart(e); }\n      if (!inTransition || e.target !== e.currentTarget ||\n        !matchTransitionProperty(e.propertyName, firstProperty)) {\n        return;\n      }\n      onTransitionBegin();\n    },\n    onTransitionEnd: (\n      {\n        transitionInfo: { lastProperty },\n        transitionState: { inTransition },\n        onTransitionEnd,\n        onTransitionComplete,\n      },\n    ) => (e: TransitionEvent<any>) => {\n      if (onTransitionEnd) { onTransitionEnd(e); }\n      if (!inTransition || e.target !== e.currentTarget ||\n        !matchTransitionProperty(e.propertyName, lastProperty)) {\n        return;\n      }\n      onTransitionComplete();\n    },\n  });\n"]},"metadata":{},"sourceType":"module"}