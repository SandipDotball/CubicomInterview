{"ast":null,"code":"var __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n\n  return t;\n};\n\nimport { propsCallback } from \"./blueprint\";\nimport combine from \"./combine\";\nexport function isolate() {\n  var composables = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    composables[_i] = arguments[_i];\n  }\n\n  var begin = {\n    instanceCallbacks: [propsCallback(function (props) {\n      return __assign({}, props, {\n        __isolation: props.__isolation ? props.__isolation.concat([props]) : [props]\n      });\n    })]\n  };\n  var end = {\n    instanceCallbacks: [propsCallback(function (props) {\n      return props.__isolation[props.__isolation.length - 1];\n    })]\n  };\n  return combine.apply(void 0, [begin].concat(composables, [end]));\n}\nexport default isolate;","map":{"version":3,"sources":["isolate.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,SAAqB,aAArB,QAA0C,aAA1C;AACA,OAAO,OAAP,MAAoB,WAApB;AAEA,OAAM,SAAA,OAAA,GAAA;AAAkB,MAAA,WAAA,GAAA,EAAA;;OAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAA4B;AAA5B,IAAA,WAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AACtB,MAAM,KAAK,GAAe;AACxB,IAAA,iBAAiB,EAAE,CACjB,aAAa,CAAC,UAAC,KAAD,EAAM;AAClB,aAAM,QAAA,CAAA,EAAA,EACD,KADC,EACI;AACR,QAAA,WAAW,EAAE,KAAK,CAAC,WAAN,GACL,KAAK,CAAC,WAAN,CAAiB,MAAjB,CAAiB,CAAE,KAAF,CAAjB,CADK,GAET,CAAC,KAAD;AAHI,OADJ,CAAN;AAMD,KAPY,CADI;AADK,GAA1B;AAYA,MAAM,GAAG,GAAe;AACtB,IAAA,iBAAiB,EAAE,CACjB,aAAa,CAAC,UAAC,KAAD,EAAM;AAAK,aAAA,KAAK,CAAC,WAAN,CAAkB,KAAK,CAAC,WAAN,CAAkB,MAAlB,GAAlB,CAAA,CAAA;AAA+C,KAA3D,CADI;AADG,GAAxB;AAKA,SAAO,OAAO,CAAA,KAAP,CAAO,KAAA,CAAP,EAAO,CAAC,KAAD,EAAM,MAAN,CAAW,WAAX,EAAsB,CAAE,GAAF,CAAtB,CAAP,CAAP;AACD;AAED,eAAe,OAAf","sourcesContent":["import { Composable, propsCallback } from \"./blueprint\";\nimport combine from \"./combine\";\n\nexport function isolate(...composables: Composable[]): Composable {\n  const begin: Composable = {\n    instanceCallbacks: [\n      propsCallback((props) => {\n        return {\n          ...props,\n          __isolation: props.__isolation\n            ? [...props.__isolation, props]\n            : [props],\n        };\n      }),\n    ],\n  };\n  const end: Composable = {\n    instanceCallbacks: [\n      propsCallback((props) => props.__isolation[props.__isolation.length - 1]),\n    ],\n  };\n  return combine(begin, ...composables, end);\n}\n\nexport default isolate;\n"]},"metadata":{},"sourceType":"module"}